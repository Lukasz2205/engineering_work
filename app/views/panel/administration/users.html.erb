<%= turbo_frame_tag 'choice_objects' %>
<div class="columns is-12 is-multiline">
  <%= render 'options' %>
  <div class="column is-12">
    <h1 style="color: #FFFFFF; font-size: 24px; margin-bottom: 1rem" >Lista użytkowników</h1>
    <table class="table box-column">
      <thead>
      <tr>
        <th><abbr title="Position">Numer</abbr></th>
        <th><abbr title="Nazwa użytkownika">Nazwa</abbr></th>
        <th><abbr title="Adres email posiadany przez użytkownika">Adres email</abbr></th>
        <th><abbr title="Liczba postów zamieszczonych przez użytkownika">Liczba postów</abbr></th>
        <th><abbr title="Liczba komentarzy dodanych przez użytkownika">Liczba komentarzy</abbr></th>
        <th><abbr title="Liczba osób obserwujących tego użytkownika">Liczba obserwujących</abbr></th>
        <th><abbr title="Informacja użytkownika o posiadanej blokadzie profilu">Blokada</abbr></th>
        <th><abbr title="Akcja możliwa do wykonania na użutkowniku">Akcja</abbr></th>
      </tr>
      </thead>
      <tfoot>
      <tr>
        <th><abbr title="Position">Numer</abbr></th>
        <th><abbr title="Nazwa użytkownika">Nazwa</abbr></th>
        <th><abbr title="Adres email posiadany przez użytkownika">Adres email</abbr></th>
        <th><abbr title="Liczba postów zamieszczonych przez użytkownika">Liczba postów</abbr></th>
        <th><abbr title="Liczba komentarzy dodanych przez użytkownika">Liczba komentarzy</abbr></th>
        <th><abbr title="Liczba osób obserwujących tego użytkownika">Liczba obserwujących</abbr></th>
        <th><abbr title="Informacja użytkownika o posiadanej blokadzie profilu">Blokada</abbr></th>
        <th><abbr title="Akcja możliwa do wykonania na użutkowniku">Akcja</abbr></th>
      </tr>
      </tfoot>
      <tbody>
      <% @profiles.each_with_index do |prof, index| %>
        <tr>
          <th><%= index += 1 %></th>
          <td><strong><%= prof.name %></strong></td>
          <td><%= prof.user.email %></td>
          <td><%= prof.posts.count %></td>
          <td><%= prof.comments.count %></td>
          <td><%= prof.followers.count %></td>
          <td><%= block_information(prof.block) %></td>
          <td id="block_option_<%= prof.id %>">
            <% if prof.blocked?  %>
              <%= render partial: 'profiles/block_options/unblock', locals: { profile: prof } %>
            <% else %>
              <%= render partial: 'profiles/block_options/block', locals: { profile: prof } %>
          <% end %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
